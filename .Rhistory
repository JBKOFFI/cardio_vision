kpss.test(ts_abi_diff)
kpss.test(ts_bou_diff)
library(ggpubr)
acf1 = ggAcf(ts_abi_diff, lag.max = 20, main = "ACF - Abidjan pour $q$")
pacf1 = ggPacf(ts_abi_diff, lag.max = 20, main = "PACF - Abidjan pour $p$")
ggarrange(acf1, pacf1)
acf2 = ggAcf(ts_bou_diff, lag.max = 20, main = "ACF - Bouaké pour $q$")
pacf2 = ggPacf(ts_bou_diff, lag.max = 20, main = "PACF - Bouaké pour $p$")
ggarrange(acf2,pacf2)
library(ggpubr)
acf1 = ggAcf(ts_abi_diff, lag.max = 104, main = "ACF - Abidjan pour $Q$")
pacf1 = ggPacf(ts_abi_diff, lag.max = 104, main = "PACF - Abidjan pour $P$")
ggarrange(acf1, pacf1)
acf2 = ggAcf(ts_bou_diff, lag.max = 104, main = "ACF - Bouaké pour $Q$")
pacf2 = ggPacf(ts_bou_diff, lag.max = 104, main = "PACF - Bouaké pour $P$")
ggarrange(acf2,pacf2)
library(ggpubr)
acf1 = ggAcf(ts_abi_diff, lag.max = 104, main = "ACF - Abidjan pour $Q$")
pacf1 = ggPacf(ts_abi_diff, lag.max = 104, main = "PACF - Abidjan pour $P$")
ggarrange(acf1, pacf1)
acf2 = ggAcf(ts_bou_diff, lag.max = 104, main = "ACF - Bouaké pour $Q$")
pacf2 = ggPacf(ts_bou_diff, lag.max = 104, main = "PACF - Bouaké pour $P$")
ggarrange(acf2,pacf2)
auto.arima(ts_bou_diff,
seasonal = TRUE,
m = 52,           # Saisonnalité hebdomadaire (si données hebdomadaires)
max.p = 2,        # AR non saisonnier
max.q = 2,        # MA non saisonnier
max.P = 1,        # AR saisonnier
max.Q = 1,        # MA saisonnier
stepwise = TRUE,  # Accélère la recherche
trace = TRUE)
auto.arima(ts_abi_diff,
seasonal = TRUE,
m = 52,           # Saisonnalité hebdomadaire
max.p = 1,        # AR non saisonnier
max.q = 1,        # MA non saisonnier
max.P = 1,        # AR saisonnier
max.Q = 1,        # MA saisonnier
stepwise = TRUE,
trace = TRUE)
library(forecast)
auto.arima(ts_bou_diff,
seasonal = TRUE,
m = 52,           # Saisonnalité hebdomadaire (si données hebdomadaires)
max.p = 2,        # AR non saisonnier
max.q = 2,        # MA non saisonnier
max.P = 1,        # AR saisonnier
max.Q = 1,        # MA saisonnier
stepwise = TRUE,  # Accélère la recherche
trace = TRUE)
auto.arima(ts_abi_diff,
seasonal = TRUE,
m = 52,           # Saisonnalité hebdomadaire
max.p = 1,        # AR non saisonnier
max.q = 1,        # MA non saisonnier
max.P = 1,        # AR saisonnier
max.Q = 1,        # MA saisonnier
stepwise = TRUE,
trace = TRUE)
?auto.arima
library(forecast)
auto.arima(ts_bou_diff,
max.p = 2,        # AR non saisonnier
max.q = 2,        # MA non saisonnier
max.P = 1,        # AR saisonnier
max.Q = 1,        # MA saisonnier
stepwise = TRUE,  # Accélère la recherche
trace = TRUE)
auto.arima(ts_abi_diff,
max.p = 1,        # AR non saisonnier
max.q = 1,        # MA non saisonnier
max.P = 1,        # AR saisonnier
max.Q = 1,        # MA saisonnier
stepwise = TRUE,
trace = TRUE)
library(forecast)
auto.arima(ts_bou_diff,
max.p = 2,        # AR non saisonnier
max.q = 2,        # MA non saisonnier
max.P = 1,        # AR saisonnier
max.Q = 1,        # MA saisonnier
stepwise = TRUE)  # Accélère la recherche
auto.arima(ts_abi_diff,
max.p = 1,        # AR non saisonnier
max.q = 1,        # MA non saisonnier
max.P = 1,        # AR saisonnier
max.Q = 1,        # MA saisonnier
stepwise = TRUE)
library(forecast)
auto.arima(ts_bou_diff,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE)  # Accélère la recherche
auto.arima(ts_abi_diff,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE)
library(forecast)
auto.arima(ts_bou_diff,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,
max.order = 5,
max.d = 2,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)  # Accélère la recherche
auto.arima(ts_abi_diff,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE)
library(forecast)
auto.arima(ts_bou_diff,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,
max.order = 5,
max.d = 1,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)  # Accélère la recherche
auto.arima(ts_abi_diff,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,
max.order = 5,
max.d = 1,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
library(forecast)
auto.arima(ts_bou,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,# Accélère la recherche
max.order = 5,
max.d = 1,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
auto.arima(ts_abi_diff,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,
max.order = 5,
max.d = 1,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
library(forecast)
auto.arima(ts_bou,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,# Accélère la recherche
max.order = 5,
max.d = 1,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
auto.arima(ts_abi,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,
max.order = 5,
max.d = 1,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
library(forecast)
auto.arima(ts_bou_diff,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,# Accélère la recherche
max.order = 5,
max.d = 0,
max.D = 0,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
auto.arima(ts_abi,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,
max.order = 5,
max.d = 1,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
library(forecast)
auto.arima(ts_bou_diff,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,# Accélère la recherche
max.order = 5,
max.d = 0,
max.D = 0,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
auto.arima(ts_abi_diff,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,
max.order = 5,
max.d =0,
max.D = 0,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
library(forecast)
auto.arima(ts_bou,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,# Accélère la recherche
max.order = 5,
max.d = 0,
max.D = 0,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
auto.arima(ts_abi,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,
max.order = 5,
max.d =1,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
library(forecast)
auto.arima(ts_bou,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,# Accélère la recherche
max.order = 5,
max.d = 1,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
auto.arima(ts_abi,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE,
max.order = 5,
max.d =1,
max.D = 1,
start.p = 2,
start.q = 2,
start.P = 1,
start.Q = 1,)
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi, order = c(1, 1, 0), seasonal = T, period = 4)
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou, order = c(1, 1, 1), seasonal = T, period = 4)
# Fonction générique pour séparer une série temporelle
split_ts <- function(ts_data, train_ratio = 0.8) {
split_point <- floor(length(ts_data) * train_ratio)
train <- window(ts_data, end = time(ts_data)[split_point])
test <- window(ts_data, start = time(ts_data)[split_point + 1])
return(list(train = train, test = test))
}
# Application à Abidjan
ts_abi_split <- split_ts(ts_abi)
train_abi <- ts_abi_split$train
test_abi <- ts_abi_split$test
# Application à Bouaké
ts_bou_split <- split_ts(ts_bou)
train_bou <- ts_bou_split$train
test_bou <- ts_bou_split$test
# Vérification
cat("Abidjan - Train:", length(train_abi), "semaines | Test:", length(test_abi), "semaines\n")
cat("Bouaké - Train:", length(train_bou), "semaines | Test:", length(test_bou), "semaines")
# Modèle ARIMA(1,1,0)
model_abi <- Arima(train_abi, order = c(1, 0, 0))
# Modèle ARIMA(1,1,1)
model_bou <- Arima(train_bou, order = c(0, 1, 0))
# Créer un tableau comparatif
performance_table <- data.frame(
Ville = c("Abidjan", "Bouaké"),
Modèle = c("ARIMA(1,1,0)", "ARIMA(1,1,1)"),
AIC = c(model_abi$aic, model_bou$aic),
BIC = c(model_abi$bic, model_bou$bic),
RMSE = c(accuracy(model_abi)[2], accuracy(model_bou)[2]),
MAE = c(accuracy(model_abi)[3], accuracy(model_bou)[3])
)
print(performance_table)
checkresiduals(model_abi)
checkresiduals(model_bou)
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi, order = c(1, 0, 0), seasonal = T, period = 4)
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou, order = c(0, 1, 0), seasonal = T, period = 4)
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi, order = c(1, 0, 0), seasonal = TRUE, period = 4)
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou, order = c(0, 1, 0), seasonal = TRUE, period = 4)
auto.arima(ts_abi, seasonal=TRUE, m=52, stepwise=TRUE)
library(forecast)
auto.arima(ts_bou,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE)
auto.arima(ts_abi,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE)
library(dplyr)
library(forecast)
library(tseries)
library(ggplot2)
citron = read.csv("citron.csv", stringsAsFactors = FALSE) |>
mutate(DATE = as.Date(DATE),PRIX = as.numeric(PRIX))
head(citron)
abidjan = citron|> filter(VILLE == "ABIDJAN") |> arrange(DATE)
abidjan
bouake = citron |> filter(VILLE == "BOUAKE") |> arrange(DATE)
bouake
ts_abi = ts(abidjan$PRIX, frequency=52, start=c(2020,1))
ts_bou = ts(bouake$PRIX, frequency=52, start=c(2020,1))
ggseasonplot(ts_abi, year.labels = TRUE, year.labels.left = TRUE) +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
ggtitle("Saisonnalité des prix à Abidjan")
ggseasonplot(ts_bou, year.labels = TRUE, year.labels.left = TRUE) +
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
ggtitle("Saisonnalité des prix à Bouaké")
adf.test(ts_abi)
adf.test(ts_bou)
kpss.test(ts_abi)
kpss.test(ts_bou)
ts_abi_diff = diff(ts_abi)
ts_bou_diff = diff(ts_bou)
adf.test(ts_abi_diff)
adf.test(ts_bou_diff)
kpss.test(ts_abi_diff)
kpss.test(ts_bou_diff)
library(forecast)
auto.arima(ts_bou,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE)
auto.arima(ts_abi,
max.p = 5,        # AR non saisonnier
max.q = 5,        # MA non saisonnier
max.P = 2,        # AR saisonnier
max.Q = 2,        # MA saisonnier
stepwise = TRUE)
auto.arima(ts_abi, seasonal=TRUE, m=52, stepwise=TRUE)
# Fonction générique pour séparer une série temporelle
split_ts <- function(ts_data, train_ratio = 0.8) {
split_point <- floor(length(ts_data) * train_ratio)
train <- window(ts_data, end = time(ts_data)[split_point])
test <- window(ts_data, start = time(ts_data)[split_point + 1])
return(list(train = train, test = test))
}
# Application à Abidjan
ts_abi_split <- split_ts(ts_abi)
train_abi <- ts_abi_split$train
test_abi <- ts_abi_split$test
# Application à Bouaké
ts_bou_split <- split_ts(ts_bou)
train_bou <- ts_bou_split$train
test_bou <- ts_bou_split$test
# Vérification
cat("Abidjan - Train:", length(train_abi), "semaines | Test:", length(test_abi), "semaines\n")
cat("Bouaké - Train:", length(train_bou), "semaines | Test:", length(test_bou), "semaines")
# Modèle ARIMA(1,1,0)
model_abi <- Arima(train_abi, order = c(1, 0, 0))
# Modèle ARIMA(1,1,1)
model_bou <- Arima(train_bou, order = c(0, 1, 0))
# Créer un tableau comparatif
performance_table <- data.frame(
Ville = c("Abidjan", "Bouaké"),
Modèle = c("ARIMA(1,1,0)", "ARIMA(1,1,1)"),
AIC = c(model_abi$aic, model_bou$aic),
BIC = c(model_abi$bic, model_bou$bic),
RMSE = c(accuracy(model_abi)[2], accuracy(model_bou)[2]),
MAE = c(accuracy(model_abi)[3], accuracy(model_bou)[3])
)
print(performance_table)
checkresiduals(model_abi)
checkresiduals(model_bou)
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi, order = c(1, 0, 0), seasonal = TRUE, period = 4)
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou, order = c(0, 1, 0), seasonal = TRUE, period = 4)
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi, order = c(1, 0, 0), seasonal = TRUE, period = 52)
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou, order = c(0, 1, 0), seasonal = TRUE, period = 52)
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi, order = c(1, 0, 0), seasonal = TRUE)
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou, order = c(0, 1, 0), seasonal = TRUE)
?Arima
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi,
order = c(1, 1, 0),
seasonal = list(order = c(1, 1, 0), period = 52))
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou,
order = c(1, 1, 1),
seasonal = list(order = c(1, 1, 1), period = 52))
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi,
order = c(1, 1, 1),
seasonal = list(order = c(1, 1, 0), period = 52))
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou,
order = c(1, 1, 1),
seasonal = list(order = c(0, 1, 0), period = 52))
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi,
order = c(1, 1, 1),
seasonal = list(order = c(1, 1, 0), period = 4))
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou,
order = c(1, 1, 1),
seasonal = list(order = c(0, 1, 0), period = 4))
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi,
order = c(1, 1, 1),
seasonal = list(order = c(1, 1, 0), period = 52))
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou,
order = c(1, 1, 1),
seasonal = list(order = c(0, 1, 0), period = 52))
library(forecast)
# Modèle SARIMA pour Abidjan : SARIMA(1,1,0)(1,1,0)[52]
model_sarima_abi <- Arima(train_abi,
order = c(1, 1, 1),
seasonal = list(order = c(1, 1, 0), period = 4))
# Modèle SARIMA pour Bouaké : SARIMA(1,1,1)(1,1,1)[52]
model_sarima_bou <- Arima(train_bou,
order = c(1, 1, 1),
seasonal = list(order = c(0, 1, 0), period = 4))
